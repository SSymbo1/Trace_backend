<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="edu.hrbu.trace_backend.mapper.MenueMapper">

    <select id="selectMenueIdReverseBySon" resultType="edu.hrbu.trace_backend.entity.po.MenueReverse">
        SELECT
            menue.mid AS son,
            parent_menue.mid AS parent,
            father_menue.mid AS father
        FROM
            menue
        JOIN menue AS parent_menue ON menue.parent = parent_menue.mid
        JOIN menue AS father_menue ON parent_menue.parent = father_menue.mid
        WHERE
            menue.mid IN
        <foreach collection="condition" open="(" separator="," close=")" item="mid" index="index">
            #{mid}
        </foreach>
    </select>

</mapper>
